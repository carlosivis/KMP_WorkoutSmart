CREATE TABLE Workout (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    description TEXT NOT NULL
);

CREATE TABLE Exercise (
    id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    workoutId INTEGER NOT NULL,
    name TEXT NOT NULL,
    notes TEXT NOT NULL,
    series INTEGER NOT NULL,
    repetitions INTEGER NOT NULL,
    image BLOB ,
    FOREIGN KEY (workoutId) REFERENCES Workout(id) ON DELETE CASCADE
);

CREATE TABLE History (
    id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    workoutName TEXT NOT NULL,
    date INTEGER NOT NULL
);

-- Workout queries
selectAllWorkouts:
SELECT * FROM Workout;

insertWorkout:
INSERT INTO Workout(name, description)
VALUES (?, ?);

deleteWorkout:
DELETE FROM Workout WHERE id = ?;

updateWorkout:
UPDATE Workout
SET name = ?, description = ?
WHERE id = ?;

-- Exercise queries
selectExercisesByWorkoutId:
SELECT * FROM Exercise WHERE workoutId = ?;

insertExercise:
INSERT INTO Exercise(workoutId, name, notes, series, repetitions, image)
VALUES (?, ?, ?, ?, ?, ?);

deleteExercise:
DELETE FROM Exercise WHERE id = ?;

updateExercise:
UPDATE Exercise
SET name = ?, notes = ?, series = ?, repetitions = ?, image = ?
WHERE id = ?;

deleteExercisesFromWorkout:
DELETE FROM Exercise WHERE workoutId = ?;

-- History queries
selectAllHistory:
SELECT * FROM History ORDER BY date DESC;

insertHistory:
INSERT INTO History(workoutName, date) VALUES (?, ?);

selectLastInsertedWorkoutId:
SELECT last_insert_rowid();
